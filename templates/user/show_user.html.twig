{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
	<div class="container text-center">
		<div class="row">
			<div class="col-sm-12">
				<h1>Profil utilisateur</h1>
				<div class="row">
					<div class="col-sm-12">
						<div class="card">
							<div class="card-body">
								<h5 class="card-title">{{ user.prenom }}
									{{ user.nom }}</h5>
								<p class="card-text">Date de naissance :
									{{ user.dateNaissance|date("Y/m/d") }}</p>
								<p class="card-text">
									Adresse :
									{{ user.adresse }}</p>
								<p class="card-text">Ville :
									{{ user.ville }}</p>
								<p class="card-text">Code postal :
									{{ user.cp }}</p>
								<p class="card-text">Email :
									{{ user.email }}</p>
								<p class="card-text">Téléphone :
									{{ user.tel }}</p>
								<p class="card-text">Service :
									{{ user.service }}</p>
								<p class="card-text">Salaire :
									{{ user.salaire }}€</p>
								<a href="{{ path('app_edit_user', { 'id': user.getId() }) }}" class="btn btn-primary">Modifier</a>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
	<h2 class="my-3">Listes des messages</h2>
		<table class="table">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">titre</th>
					<th scope="col">Contenu</th>
					<th scope="col">Date de reception</th>
                    <th scope="col">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for msg in messages %}
					<tr>
						<td>{{ msg.id }}</td>
						<td>{{ msg.titre }}</td>
						<td>{{ msg.contenu }}</td>
						<td>{{ msg.dateEnvoi ? msg.dateEnvoi|date('Y-m-d H:i:s') }}</td>
						<td class='d-flex align-items-center' >
                            <a onclick="return confirm('Are you sure?')" href="{{ path('app_message_delete', { 'id': msg.getId() }) }}" class='btn btn-sm btn-danger' title='supprimer utilisateur'><i class="fa-solid fa-trash-can"></i></a>
                        </td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
